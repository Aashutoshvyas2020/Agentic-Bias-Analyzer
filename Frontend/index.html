<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiasLens</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- LEFT PANE -->
        <aside class="pane-left">
            <div class="brand">
                <h1>
                    <svg class="icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        <line x1="11" y1="8" x2="11" y2="14"></line>
                        <line x1="8" y1="11" x2="14" y2="11"></line>
                    </svg>
                    BiasLens
                </h1>
            </div>

            <div class="input-group">
                <label for="headline">Headline</label>
                <input type="text" id="headline" placeholder="Paste headline here">
            </div>

            <div class="input-group">
                <label for="urlInput">URL (Optional)</label>
                <input type="url" id="urlInput" placeholder="https://example.com/article">
            </div>

            <div class="input-group">
                <label for="article">Article</label>
                <textarea id="article" class="input-article" placeholder="Paste full article text here..."></textarea>
            </div>

            <div class="input-group">
                <label>Visual Aid</label>
                <div class="file-upload-container">
                    <label class="file-upload-label">
                        <svg class="icon" style="width:24px; height:24px;" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                        <span>Click to upload PNG/JPG</span>
                        <input type="file" id="visualUpload" accept=".png, .jpg, .jpeg">
                    </label>
                    <div class="preview-container" id="previewContainer">
                        <img src="" alt="Preview" class="preview-img" id="previewImg">
                        <button class="btn-remove-file" id="removeFileBtn" title="Remove image">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="actions">
                <button id="analyzeBtn" class="btn-primary">Analyze</button>
                <button id="fetchUrlBtn" class="btn-secondary" style="display:none;">Fetch URL</button>
                <button id="demoBtn" class="btn-secondary">Load Sample</button>
                <button id="clearBtn" class="btn-ghost">Clear</button>
            </div>

            <div class="status-container">
                <div id="status"></div>
                <div id="loadingWrap" class="loading-wrap" style="display:none;">
                    <div class="loading-bar">
                        <div id="loadingFill" class="loading-fill"></div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- RIGHT PANE -->
        <main class="pane-right">
            <!-- Summary Output -->
            <section class="card" id="factcheckSummary">
                <div class="summary-header">
                    <h3>Summary Analysis</h3>
                    <div id="verdict" class="verdict-chip verdict-unverified">Pending</div>
                </div>
                <div class="persuasion-container">
                    <div class="persuasion-header">
                        <label>Persuasion Index</label>
                        <span id="pressureLabel">0/100</span>
                    </div>
                    <div class="meter-bg">
                        <div id="pressureBar" class="meter-fill"></div>
                    </div>
                </div>
                <div class="summary-notes">
                    <div class="summary-note">
                        <label>Key factor</label>
                        <div id="keyFactor" class="summary-text">�</div>
                    </div>
                    <div class="summary-note">
                        <label>Rationale</label>
                        <div id="synthesisReason" class="summary-text">�</div>
                    </div>
                </div>
                <div class="verification-counts">
                    <div class="count-item">
                        <span class="count-val" id="countVerified">-</span>
                        <span class="count-label">Verified</span>
                    </div>
                    <div class="count-item">
                        <span class="count-val" id="countDisproven">-</span>
                        <span class="count-label">Disproven</span>
                    </div>
                    <div class="count-item">
                        <span class="count-val" id="countUnverified">-</span>
                        <span class="count-label">Unverified</span>
                    </div>
                </div>
            </section>

            <!-- Verification Output -->
            <section>
                <h2>Image Analysis</h2>
                <div id="imageAnalysisHost">
                    <div class="card" style="opacity: 0.6; pointer-events: none;">
                        <p class="claim-text">Image analysis will appear here after analysis...</p>
                        <div class="confidence-meter">
                            <span>Confidence: 0%</span>
                            <div class="conf-bar-bg"><div class="conf-bar-fill" style="width: 0%"></div></div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h2>Verification Claims</h2>
                <div id="verificationHost">
                    <div class="card" style="opacity: 0.6; pointer-events: none;">
                        <div class="card-header">
                            <span class="verdict-chip verdict-unverified">Unverified</span>
                        </div>
                        <p class="claim-text">Claim verification details will appear here after analysis...</p>
                        <div class="confidence-meter">
                            <span>Confidence: 0%</span>
                            <div class="conf-bar-bg"><div class="conf-bar-fill" style="width: 0%"></div></div>
                        </div>
                    </div>
                </div>
                <div class="carousel-nav" id="verifNav" style="display:none;">
                    <button class="nav-btn" id="prevClaim">
                        <svg class="icon icon-sm" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                    </button>
                    <span class="nav-indicator" id="claimIndicator">1 / 1</span>
                    <button class="nav-btn" id="nextClaim">
                        <svg class="icon icon-sm" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                    </button>
                </div>
            </section>

            <!-- Analysis Output -->
            <section>
                <h2>Rhetorical Analysis</h2>
                <div id="cardHost">
                    <div class="card" style="opacity: 0.6;">
                        <div class="comparison-grid">
                            <div class="quote-box signal">"Signal quote will appear here..."</div>
                            <div class="quote-box counter">"Counter-evidence or missing context..."</div>
                        </div>
                        <div class="collapsible">
                            <div class="collapsible-header">
                                <span>Details & Reasoning</span>
                                <svg class="icon icon-sm" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>
